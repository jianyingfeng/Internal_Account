- config:
    name: 获取作品info详情（Public）
    request:
        base_url: $tiger_api_host
        method: GET
    variables:
        unexist_work_id: 100
        wrong_type_work_id: aaa


- test:
    name: 未登录-已发布作品
    request:
        url: /api/work/info/$source_user_ide_published_work_id
    validate:
        - eq: [status_code, 200]
        - eq: [content.code, 200]
        - eq: [content.msg, 成功]
        - eq: [content.data.workDetail.isPublish, true]
        - eq: [content.data.workDetail.workInfo.id, $source_user_ide_published_work_id]
        - eq: [content.data.workDetail.workInfo.user_id, $source_user_id]
        - length_equals: [content.data.workDetail, 13]
- test:
    name: 未登录-未发布作品
    request:
        url: /api/work/info/$source_user_ide_unpublish_work_id
    validate:
        - eq: [status_code, 200]
        - eq: [content.code, 200]
        - eq: [content.msg, 成功]
        - eq: [content.data.workDetail.isPublish, false]
        - eq: [content.data.workDetail.workInfo.id, $source_user_ide_unpublish_work_id]
        - eq: [content.data.workDetail.workInfo.user_id, $source_user_id]
        - length_equals: [content.data.workDetail, 13]
- test:
    name: 未登录-临时删除作品
    request:
        url: /api/work/info/$source_user_ide_deleted_temporarily_work_id
    validate:
        - eq: [status_code, 200]
        - eq: [content.code, 200]
        - eq: [content.msg, 成功]
        - eq: [content.data.workDetail.isPublish, false]
        - eq: [content.data.workDetail.workInfo.id, $source_user_ide_deleted_temporarily_work_id]
        - eq: [content.data.workDetail.workInfo.user_id, $source_user_id]
        - length_equals: [content.data.workDetail, 13]
- test:
    name: 未登录-永久删除作品
    request:
        url: /api/work/info/$source_user_ide_deleted_permanently_work_id
    validate:
        - eq: [status_code, 200]
        - eq: [content.code, 200]
        - eq: [content.msg, 成功]
        - eq: [content.data.workDetail.isPublish, false]
        - eq: [content.data.workDetail.workInfo.id, $source_user_ide_deleted_permanently_work_id]
        - eq: [content.data.workDetail.workInfo.user_id, $source_user_id]
        - length_equals: [content.data.workDetail, 13]
- test:
    name: 未登录-不存在的作品id
    request:
        url: /api/work/info/$unexist_work_id
    validate:
        - eq: [status_code, 200]
        - eq: [content.code, 6409]
        - eq: [content.msg, 作品不存在]
        - length_equals: [content.data, 0]
- test:
    name: 未登录-格式错误作品id
    request:
        url: /api/work/info/$wrong_type_work_id
    validate:
        - eq: [status_code, 400]
        - eq: [content.error_code, A_5]
