- config:
    name: 我的作品管理
    base_url: ${tiger_api_host()}

- test:
    name: 已登录-type为1-page为1-limit为15
    request:
        method: GET
        url: /tiger/work/user/management?type=1&page=1&limit=15
        headers:
            Authorization: ${source_user_login_token()}
    validate:
        - eq: [status_code, 200]
        - type_match: [content, list]
        - length_greater_than: [content, 1]

- test:
    name: 已登录-type为3-page为1-limit为15
    request:
        method: GET
        url: /tiger/work/user/management?type=3&page=1&limit=15
        headers:
            Authorization: ${source_user_login_token()}
    validate:
        - eq: [status_code, 200]
        - type_match: [content, list]

- test:
    name: 已登录-type为5-page为1-limit为15
    request:
        method: GET
        url: /tiger/work/user/management?type=5&page=1&limit=15
        headers:
            Authorization: ${source_user_login_token()}
    validate:
        - eq: [status_code, 200]
        - type_match: [content, list]

- test:
    name: 已登录-type为7-page为1-limit为15
    request:
        method: GET
        url: /tiger/work/user/management?type=7&page=1&limit=15
        headers:
            Authorization: ${source_user_login_token()}
    validate:
        - eq: [status_code, 400]
        - eq: [content.error_code, A_5]

- test:
    name: 已登录-type为1-page为1-limit小于5
    request:
        method: GET
        url: /tiger/work/user/management?type=1&page=1&limit=1
        headers:
            Authorization: ${source_user_login_token()}
    validate:
        - eq: [status_code, 400]
        - eq: [content.error_code, A_11]

- test:
    name: 未登录-type为1-page为1-limit为15
    request:
        method: GET
        url: /tiger/work/user/management?type=1&page=1&limit=15
    validate:
        - eq: [status_code, 403]
        - eq: [content.error_code, E_0]