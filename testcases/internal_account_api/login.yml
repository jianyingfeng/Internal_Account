- config:
    name: 内部账号系统登录
    base_url: ${ENV(internal_account_api_host)}
    verify: False
    variables:
        - wrong_internal_source_user_password: '123'

# - test:
#     name: 邮箱正确-密码正确-账号为正式员工-未冻结
#     api: api/internal_account_api/login.yml
#     variables:
#         - identity: ${internal_source_user_email()}
#         - password: ${internal_source_user_password()}
#     validate:
#         - eq: [status_code, 200]
#         - length_equals: [content, 5]
#         - eq: [content.id, '${internal_source_user_id()}']
#         - eq: [content.email, '${internal_source_user_email()}']
#         - contains: [content, token]
#         - contains: [content, phone_number]
#         - contains: [content, fullname]

- test:
    name: 邮箱正确-密码正确-不传递极验ticket
    api: api/internal_account_api/login.yml
    variables:
        - identity: ${internal_source_user_email()}
        - password: ${internal_source_user_password()}
    validate:
        - eq: [status_code, 422]
        - eq: [content.error_code, '10010003']